<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>009 GROUP</title>

    <link rel="stylesheet" href="css/main.css">

    <!-- /////////////////////////////////////////////////////////////////////////////////////////////// -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script> <!-- JQuery -->

    <script src="js/main.js"></script> <!-- work code -->
    <!-- /////////////////////////////////////////////////////////////////////////////////////////////// -->


</head>
<body>

<div class="main-body">
    <div class="header-page">
        <div class="header-icon"><img src="images/009_Group_LOGO_gor_new.svg" alt="service icon"
                                      class="header-icon-img"></div>
        <div class="header-consultation"></div>
    </div>

    <div class="page-title">Welcome<br>Please select an appointment date and time</div>

    <div class="main">
        <div class="main-content">
            <div id="calendar">
                <div class="header">
                    <button id="prev">Previous</button>
                    <h2 id="month-year"></h2>
                    <button id="next">Next</button>
                </div>
                <div class="days">
                    <div class="day">Mon</div>
                    <div class="day">Tue</div>
                    <div class="day">Wed</div>
                    <div class="day">Thu</div>
                    <div class="day">Fri</div>
                    <div class="day">Sat</div>
                    <div class="day">Sun</div>
                </div>
                <div id="dates"></div>
            </div>
        </div>

        <!-- Modal Form -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <div class="form appointment-form" id="appointment-form">
                    <div class="title">Record form</div>
                    <div class="input-container ic2">
                        <input id="firstname" class="input" type="text" placeholder=" "/>
                        <div class="cut"></div>
                        <label for="firstname" class="placeholder">First name</label>
                    </div>
                    <div class="input-container ic2">
                        <input id="lastname" class="input" type="text" placeholder=" "/>
                        <div class="cut"></div>
                        <label for="lastname" class="placeholder">Last name</label>
                    </div>
                    <div class="input-container ic2">
                        <input id="timeSlot" class="input" type="text" name="timeSlot" placeholder=" " readonly>
                        <div class="cut"></div>
                        <label for="timeSlot" class="placeholder">Time Slot</label>
                    </div>

                    <div class="input-container ic2">
                        <input id="phone" class="input" type="text" name="phone" placeholder="">
                        <div class="cut"></div>
                        <label for="phone" class="placeholder">Phone Number</label>
                    </div>

                    <div class="input-container ic2">
                        <input id="Comments" class="input" type="text" name="Comments" placeholder=" ">
                        <div class="cut"></div>
                        <label for="Comments" class="placeholder">Comments</label>
                    </div>

                    <div class="toggle-button" id="toggleCarInfo">
                        <div class="toggle-button-header">Car Parameters</div>
                        <div class="toggle-button-icon"><img src="./images/Arrow_Bottom.svg" alt="Arrow_Bottom"></div>
                    </div>

                    <div class="subform hidden" id="car-subform">
                        <div class="input-container ic2">
                            <input id="car-make" class="input" type="text" name="carMake" placeholder=" ">
                            <div class="cut"></div>
                            <label for="car-make" class="placeholder">License plate number</label>
                        </div>
                        <div class="input-container ic2">
                            <select id="carBrand" class="input" name="carBrand">
                                <option value="" disabled selected hidden></option>
                                <option value="toyota">Toyota</option>
                                <option value="ford">Ford</option>
                                <option value="chevrolet">Chevrolet</option>
                                <option value="bmw">BMW</option>
                                <option value="audi">Audi</option>
                            </select>
                            <div class="cut"></div>
                            <label for="carBrand" class="placeholder">Car brand</label>
                        </div>
                        <div class="input-container ic2">
                            <select id="carModel" class="input" name="carModel">
                                <option value="" disabled selected hidden></option>
                                <option value="rav4">RAV4</option>
                                <option value="f150">F-150</option>
                                <option value="sierra">Sierra</option>
                                <option value="impala">Impala</option>
                                <option value="x5">X5</option>
                            </select>
                            <div class="cut"></div>
                            <label for="carModel" class="placeholder">Car model</label>
                        </div>
                        <div class="input-container ic2">
                            <input id="mileage" class="input" type="text" name="mileage" placeholder=" ">
                            <div class="cut"></div>
                            <label for="mileage" class="placeholder">Mileage</label>
                        </div>
                        <div class="input-container ic2">
                            <select id="unitOfMeasurement" class="input" name="unitOfMeasurement">
                                <option value="" disabled selected hidden></option>
                                <option value="km">Kilometers (km)</option>
                                <option value="miles">Miles (mi)</option>
                                <option value="liters">Liters (L)</option>
                                <option value="gallons">Gallons (gal)</option>
                            </select>
                            <div class="cut"></div>
                            <label for="unitOfMeasurement" class="placeholder">Unit of measurement</label>
                        </div>
                    </div>


                    <div class="submit-div">
                        <button id="submitForm" class="submit">submit</button>
                    </div>
                </div>

            </div>
        </div>

    </div>

</div>

<!-- /////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- /////////////////////////////////////////////////////////////////////////////////////////////// -->


<script>
    $(document).ready(function () {
        $('#submitForm').on('click', function (e) {
            e.preventDefault();
            const timeSlot = $('#timeSlot').val();
            const appointmentDate = $('.date.selected').text();
            const monthYearText = $('#month-year').text();

            // Update the page title with the success message
            $('.page-title').html(`Appointment successfully booked for ${appointmentDate} ${monthYearText} at ${timeSlot} <img src="images/successful_icon.svg" alt="successful">`);

            $('#modal').fadeOut();
            $('.main-content').fadeOut();
        });

        initializeCalendar({
            calendarSelector: '#calendar',
            monthYearSelector: '#month-year',
            datesSelector: '#dates',
            prevButtonSelector: '#prev',
            nextButtonSelector: '#next',
            slots: ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00']
        });

        // Close modal when clicking outside of the form
        $(document).on('click', function (e) {
            if (!$(e.target).closest('.modal-content').length && !$(e.target).is('#calendar, #calendar *')) {
                $('#modal').fadeOut();
            }
        });


        $('#toggleCarInfo').on('click', function () {
            $('#car-subform').slideToggle().css('display', 'flex');
            $('.toggle-button-icon > img').toggleClass('rotate-icon');
        });

    });

</script>

</body>
</html>
